<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>SuperRectipt</title>
</head>
<body>
    <div id="app"></div>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.5.16"></script>
    <script src="./js/SuperReceipt.min.js"></script>
    <script>
        let superReceipt = SuperReceipt.init({
            el: '#app',
            isEditable: false,
            tableKeys: ['table', 'table1'], // 多个table
            topToolbar: [
                {
                    text: '暂存',
                    type: 'warning',
                    style: 'border-radius: 0;',
                    visible: function() {
                        return false;
                    },
                    click: function() {
                       superReceipt.config.isEditable = true;
                    }
                },
                {
                    text: '提交审批',
                    type: 'success',
                    style: 'border-radius: 0;',
                    click: function() {
                        console.log(superReceipt.config.table1.tableData);
                    }
                },
                {
                    text: '删除',
                    type: 'danger',
                    disabled: true,
                    style: 'border-radius: 0;',
                    click: function() {
                        alert('删除');
                    }
                }
            ],
            // 只有中间titile可以设置tag
            title: {
                left: '左边标题',
                middle: {
                    titleText: '采购入库申请单',
                    titleIcon: '待推送'
                },
                right: 'NO: 201907001'
            },
            // form 表单项
            form: [
                {
                    type: 'input',
                    label: '公司实体',
                    placeholder: '请输入内容',
                    size: 'mini',
                    prop: 'com',
                    isRequired: true,
                },
                {
                    type: 'input',
                    label: '收货人电话',
                    placeholder: '请输入内容',
                    prop: 'phone',
                    size: 'mini',
                },
                {
                    type: 'datetime',
                    label: '时间',
                    placeholder: '请输入内容',
                    prop: 'stime',
                    size: 'mini',
                },
                {
                    type: 'date',
                    label: '时间',
                    placeholder: '请输入内容',
                    prop: 'stime',
                    size: 'mini',
                },
                {
                    type: 'select',
                    label: '收货人电话',
                    placeholder: '请输入内容',
                    size: 'mini',
                    prop: 'sel',
                    filterable: true,
                    options: [
                        {
                            value: '选项1',
                            label: '选项1'
                        },{
                            value: '选项2',
                            label: '选项2'
                        },{
                            value: '选项3',
                            label: '选项3'
                        }
                    ],
                    change(val) { // 当前值
                        
                    }
                },
                {
                    type: 'select',
                    label: '收货人电话',
                    placeholder: '请输入内容',
                    size: 'mini',
                    prop: 'sel',
                    filterable: false,
                    options: [
                        {
                            value: '选项1',
                            label: '选项1'
                        },{
                            value: '选项2',
                            label: '选项2'
                        },{
                            value: '选项3',
                            label: '选项3'
                        }
                    ],
                    change(val) { // 当前值
                        
                    }
                },
                {
                    type: 'textarea',
                    label: '收货人地址',
                    placeholder: '请输入内容',
                    prop: 'address',
                    size: 'mini',
                },
                {
                    type: 'input',
                    label: '收货人电话',
                    placeholder: '请输入内容',
                    size: 'mini',
                    disabled: true
                },
                {
                    type: 'label',
                    label: '收货人电话',
                    placeholder: '请输入内容',
                    size: 'mini',
                    prop: 'labeltest'
                },
                {
                    type: 'radio',
                    prop: 'radio',
                    label: '单选按钮',
                    radios: [
                        {
                            label: 0,
                            text: '否'
                        },
                        {
                            label: 1,
                            text: '是'
                        }
                    ]
                },
                {
                    type: 'switch',
                    prop: 'switch',
                    label: '开关',
                },
                {
                    type: 'checkbox',
                    prop: 'checkbox',
                    label: '多选框'
                }
            ],
            // form表单数据
            formData: {
                com: 'a',
                phone: '2123',
                address: '14',
                stime: '2019-08-06 08:09:00',
                radio: '',
                switch: true,
                checkbox: true,
                labeltest: '111111'
            },
            table: {
                isShowIndex: true,
                title: {
                    text: '这里是title',
                    align: 'center'
                },
                // 表格列
                columns: [
                {
                        prop: 'id',
                        label: '商品ID',
                        width: 50
                    },
                    {
                        prop: 'skuid',
                        label: 'skuid',
                        width: '100'
                    },
                    {
                        prop: 'goods_name',
                        label: '商品名',
                        width: '300'
                    },
                    {
                        prop: 'goods_name',
                        label: '计量单位',
                        width: '50'
                    },
                    {
                        prop: 'goods_name',
                        label: '数量',
                        width: '50'
                    },
                    {
                        prop: 'goods_name',
                        label: '单价',
                        width: '100'
                    },
                    {
                        prop: 'goods_name',
                        label: '金额',
                        width: '100'
                    },
                    {
                        prop: 'goods_name',
                        label: '本位金币',
                        width: '100'
                    },
                    {
                        prop: 'goods_name',
                        label: '增值税',
                        width: '50'
                    },
                    {
                        prop: 'goods_name',
                        label: '关税',
                        width: '50'
                    },
                    {
                        prop: 'goods_name',
                        label: '消费税',
                        width: '50'
                    }
                ],
                // 表格数据
                tableData: [
                    // {
                    //     id: 1,
                    //     name: 'niu',
                    //     amount1: 10
                    // }
                ],
                // 操作按钮
                optBtns: [
                    {
                        size: 'mini',
                        text: '编辑',
                        visible: false,
                        click: function(scope) {
                            console.log(scope);
                        }
                    },
                    {
                        size: 'mini',
                        text: '删除',
                        type: 'danger',
                        visible: false,
                        click: function(scope) {
                            console.log(scope);
                            superReceipt.config.table.tableData.splice(scope.$index, 1);
                        }
                    }
                ]
            },
            // 底部toolbar
            bottomToolbar: [
                {
                    text: '下载',
                    size: 'small',
                    type: 'warning',
                    click: function() {
                        console.log(superReceipt.config.formData);
                        alert('下载');
                    }
                },
                {
                    text: '导入',
                    type: 'success',
                    isImport: true,
                    disabled: true,
                    visible: false,
                    click: function() {
                        superReceipt.config.table.tableData = [
                            {
                                id: 1,
                                name: 'niu',
                                amount1: 10
                            },
                            {
                                id: 2,
                                name: 'niu2',
                                amount1: 50
                            },
                            {
                                id: 3,
                                name: 'niu3',
                                amount1: 10
                            }   
                        ]
                    },
                    change(e) {
                        console.log(e);
                    }
                },
                {
                    text: '打印',
                    type: 'primary',
                    isPrint: true, // 是否是打印按钮
                    visible: function() {
                        return true;
                    },
                    click: function() {
                        
                    }
                },
                {
                    text: '增行',
                    type: 'primary',
                    click: function() {
                        let obj = {
                            id: '',
                            name: '',
                            amount1: '',
                            seen: true
                        };
                        superReceipt.config.table1.tableData = superReceipt.config.table1.tableData.concat(obj);
                    }
                }
            ],
            table1: {
                isShowIndex: true,
                title: {
                    text: '这里是title2',
                    align: 'left'
                },
                isShowSummary: true,
                // 表格列
                columns: [
                    {
                        prop: 'id',
                        label: 'ID',
                        width: '180',
                        
                    },
                    {
                        prop: 'name',
                        label: '姓名',
                        width: '300',
                        seen: true,
                        editable: true,
                        change(row) {
                            console.log(row);
                            row.amount1 = row.amount1 * 2;
                        }
                    },
                    {
                        prop: 'amount1',
                        label: '数量',
                        width: '180',
                        needSum: true,
                        seen: true,
                        editable: true,
                        align: 'right',
                        fixed2: 2
                    }
                ],
                // 表格数据
                tableData: [
                    {
                        id: 1,
                        name: 'niu2',
                        amount1: 10,
                        seen: false
                    },
                    {
                        id: 1,
                        name: '商品名商品名商品名商品名商品名商品名商品名商品名商品名商品名商品名商品名商品名商品名商品名商品名商品名商品名商品名商品名商品名商品名商品名',
                        amount1:20,
                        seen: false
                    }
                ],
                // 操作按钮
                optBtns: [
                    {
                        size: 'mini',
                        text: '编辑',
                        visible: false,
                        click: function(scope) {
                            console.log(scope);
                        }
                    },
                    {
                        size: 'mini',
                        text: '删除',
                        type: 'danger',
                        visible: function() {
                            return false;
                        },
                        click: function(scope) {
                            console.log(scope);
                            superReceipt.config.table1.tableData.splice(scope.$index, 1);
                        }
                    }
                ]
            },
        });
        setTimeout(() => {
            superReceipt.config.formData.radio = 0;
        }, 2000);
    </script>
<script type="text/javascript" src="/js/SuperReceipt.min.js"></script></body>
</html>